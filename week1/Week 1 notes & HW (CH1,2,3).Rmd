---
title: "Week 2 HW"
author: "Sofya Lipkind"
date: "4/22/2020"
output: 
  html_document: 
    keep_md: yes
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lme4)
library(lmerTest)
```

##CHAPTER 3: VISUALIZATIONS

###Q: Do cars w/ big engines use more fuel than w/ small engines? (dataframe *mpg*)
_note that this was done without the textbook, so it may not follow those results strictly. Just wanted to see how I would approach answering the question._
```{r}
head(mpg)
summary(mpg)
#manufacturer model ,displ(engine size in L),  year,   cyl(#cylinders), trans(manual vs auto),  drv(front, rear, or 4wd),     cty(city mpg),   hwy(fuel efficiency in mpg), fl(fuel type),    class(category of car)  
#What variables seem relevant to this question?
# displ, hwy, possibly cty


plot( mpg$hwy ~ mpg$displ)
#inverse relationship, roughly - as engine size increases, fuel efficiency decreases
plot(mpg$cty ~ mpg$displ)
#slightly steeper inverse relationship


#well... that's cool, but let's do it in ggplot. Can I put both cty and hwy on the same plot?

plots1 <- mpg %>% ggplot(
  aes(x = displ)) +
  geom_jitter(aes(y = cty), color = "maroon", shape = 8) +
  geom_jitter(aes(y = hwy), color = "cornflowerblue", shape = 1) + #REVELATION TO JUST DO TWO GEOM_JITTERS!!! Bless you, Stack Overflow.
  ggtitle("Comparing mpg in cities vs highways by engine size") + 
  scale_x_continuous(name = "engine size (L)") +
  scale_y_continuous(name = "fuel efficiency (mpg)")
plots1
plots1 + annotate(label = "Makeshift legend: maroon = city, blue = highway", x = 5, y = 50, geom = "text") #QUESTION: How would I get the legend to work when I manually set the colors and shapes b/w two geom_jitters?

#Hooray! I mean, it doesn't help me quantify things any more, but it makes it easier to compare cty vs hwy

#How might we quantify this relationship a bit more?

city <- lm(data = mpg, cty ~ displ)
summary(city)

highway <- lm(data = mpg, hwy ~ displ)
summary(highway)

#conclusions:
# 1. highway had 10 more mpg than city, without engine size effect
# 2. highway was slightly more negatively affected by engine size (-3.5 vs -2.6)
# 3. these results are highly significant
```


### QUESTION 3.2.4 (1-5)

1: Run ggplot(data = mpg). What do you see?

```{r}
ggplot(data = mpg)
```
I see a blank image.

2: How many rows are in mpg? How many columns?

There are 234 observations (rows), and 11 columns. 

3:What does the drv variable describe? Read the help for ?mpg to find out.

drv = is the vehicle:  
* front-wheel drive  
* back-wheel drive  
* four-wheel drive

4:Make a scatterplot of hwy vs cyl.

```{r}
plot(data = mpg, cyl ~ hwy)

#makes sense, since cyl is a discrete numerical variable, and hwy is continuous numerical
```

5:What happens if you make a scatterplot of class vs drv? Why is the plot not useful?

```{r}
plot(data = mpg, drv ~ class)
```

Well, class and drv are both categorical variables, so they are unsuited to the quantitative lens given by a scatterplot. Since there is no quantitative data for plot() to work with, there is an ERROR.


###QUESTION 3.3.1 (1-6)

1:What’s gone wrong with this code? Why are the points not blue?

```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = "blue"))
```

Well, you dingus, you put your closing aes parenthesis in the wrong spot! Color is assigned as an aesthetic with a dummy variable ("blue"), so it just does whatever.

If you were to instead do this:
```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy), color = "blue")
```

See? Much better!

2: Which variables in mpg are categorical? Which variables are continuous? (Hint: type ?mpg to read the documentation for the dataset). How can you see this information when you run mpg?

```{r}
labels(mpg)
#shows column titles
summary(mpg)
#shows all columns, along with class and any other relevant information
#Heuristic:
#Categorical variables will show as a 'character' class (or as factors, iirc).
#Continuous variables will show a quantile distribution.
#
#Exceptions: dates or times are categorical, such as 'year'; variables that can only have whole numbers (e.g. cyl) are categorical.
```

3:Map a continuous variable to color, size, and shape. How do these aesthetics behave differently for categorical vs. continuous variables?

```{r}

```

4: What happens if you map the same variable to multiple aesthetics?

5: What does the stroke aesthetic do? What shapes does it work with? (Hint: use ?geom_point)

6: What happens if you map an aesthetic to something other than a variable name, like aes(colour = displ < 5)? Note, you’ll also need to specify x and y.

###QUESTION 3.5.1 (1-6)



###QUESTION 3.6.1 (1-5, one graph from 6)
